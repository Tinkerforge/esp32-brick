<div class="tab-pane fade" role="tabpanel" aria-labelledby="sidebar-flash" id="flash">
    <div
        class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 mb-3 border-bottom">
        <h1 class="h2" data-i18n="firmware_update.content.system">Firmware</h1>
    </div>

    <form method='POST' action='#' enctype='multipart/form-data' id='upload_firmware_form'>
        <div class="form-group row">
            <div class="col-lg-3 mt-2">
                <input class="form-control mb-1" type="text" placeholder="..." readonly id="current_firmware">
                <label for='current_firmware' data-i18n="firmware_update.content.current_firmware">Current Firmware</label>
            </div>

            <div class="col-lg-6 mt-2">
                <div class="input-group mb-1">
                    <div class="custom-file">
                        <input name="firmware" type="file" class="custom-file-input form-control"
                            id="firmware_file_select">
                        <label class="custom-file-label form-control"
                            for="firmware_file_select" data-browse="Browse" data-i18n="firmware_update.content.browse firmware_update.content.select_file" data-i18n-attr="data-browse innerHTML">Select File</label>
                    </div>
                    <div class="input-group-append">
                        <input id="update_firmware_button" type='submit'  data-i18n="firmware_update.content.update" data-i18n-attr="value" value="Update"
                            class="btn btn-primary form-control" disabled>
                    </div>
                </div>
                <label id="firmware_label" for='firmware_file_select' data-i18n="firmware_update.content.firmware_update">Firmware Update</label>
            </div>
            <div class="col-lg-3 mt-2" id="firmware-progress" hidden>
                <div class="form-progress mb-1">
                    <div id="firmware-progress-bar" class="progress-bar form-control"
                        role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0"
                        aria-valuemax="100"></div>
                </div>
                <label for='firmware-progress-bar' data-i18n="firmware_update.content.uploading">Uploading Firmware...</label>
            </div>
        </div>
    </form>
    <hr>
    <form method='POST' action='#' enctype='multipart/form-data' id='upload_spiffs_form'>
        <div class="form-group row">
            <div class="col-lg-3 mt-2">
                <input class="form-control mb-1" type="text" placeholder="..." readonly id="current_spiffs">
                <label for='current_spiffs' data-i18n="firmware_update.content.current_spiffs">Current SPIFFS</label>
            </div>

            <div class="col-lg-3 mt-2">
                <button id="spiffs_factory_reset" type="button" class="form-control btn btn-danger mb-1" data-i18n="firmware_update.content.factory_reset">Factory Reset</button>
                <label id="spiffs_label" for='spiffs_factory_reset' data-i18n="firmware_update.content.factory_reset_desc">Reset all settings to factory default</label>
            </div>

            <div class="col-lg-3 mt-2">
                <a href="/debug_report" class="form-control btn btn-primary mb-1" data-i18n="firmware_update.content.debug_report" download>Download Debug Report</a>
                <label id="spiffs_label" for='debug_report' data-i18n="firmware_update.content.debug_report_desc">A complete report of all status information of this device except passwords.</label>
            </div>
        </div>
    </form>

    <div class="modal fade" id="factory_reset_modal" tabindex="-1" role="dialog" aria-hidden="true">
        <div id="factory_reset_content" class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <form-label class="modal-title" data-i18n="firmware_update.content.factory_reset">Factory Reset</form-label>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body"  data-i18n="firmware_update.content.factory_reset_modal_text">
                    A factory reset will reset all settings to their default values. <b>This action cannot be undone!</b> The wallbox will re-open the WiFi access point with the default SSID and passphrase. Are you sure?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary"
                        data-dismiss="modal" data-i18n="firmware_update.content.abort_reset">Abort</button>
                    <button id="factory_reset_confirm" type="button"
                        class="btn btn-danger" data-i18n="firmware_update.content.confirm_reset">Reset to factory defaults</button>
                </div>
            </div>
        </div>
    </div>
</div>
